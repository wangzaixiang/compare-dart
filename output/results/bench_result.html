<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>编程语言性能测试报告</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@7"></script>
    <style>
        body { font-family: 'Microsoft YaHei', Arial, sans-serif; margin: 20px; }
        h1 { color: #333; text-align: center; }
        h2 { color: #666; border-bottom: 2px solid #ddd; padding-bottom: 10px; }
        .chart-container { width: 100%; height: 500px; margin: 30px 0; page-break-inside: avoid; }
        .summary { background: #f5f5f5; padding: 15px; border-radius: 5px; margin: 20px 0; }
        .console-output { background: #2d2d2d; border-radius: 8px; padding: 20px; margin: 20px 0; overflow-x: auto; }
        .console-output pre { color: #f8f8f2; font-family: 'Consolas', 'Monaco', 'Courier New', monospace; font-size: 12px; line-height: 1.4; margin: 0; white-space: pre-wrap; }
        @media print { 
            .chart-container { page-break-inside: avoid; height: 400px; }
            .console-output { background: #f8f8f8; border: 1px solid #ddd; }
            .console-output pre { color: #333; }
            body { print-color-adjust: exact; }
        }
    </style>
</head>
<body>
    <h1>🚀 编程语言性能测试报告</h1>
    <div class="summary">
        <p><strong>测试时间:</strong> 1757064285</p>
        <p><strong>测试语言:</strong> 17 种</p>
        <p><strong>测试用例:</strong> 10 个</p>
    </div>

    <h2>📊 fib - Fibonacci(递归算法)</h2>
    <div id="chart0" class="chart-container"></div>
    <script>
        const spec0 = {
            "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
            "description": "Fibonacci(递归算法) 性能测试结果",
            "title": {
                "text": "fib - 编程语言性能对比",
                "fontSize": 16,
                "fontWeight": "bold"
            },
            "width": 800,
            "height": 400,
            "data": {
                "values": [{"language": "Java(JVM)", "time": 730.0, "rank": 1},{"language": "C(Clang)", "time": 831.0, "rank": 2},{"language": "Zig", "time": 831.0, "rank": 3},{"language": "Rust", "time": 832.0, "rank": 4},{"language": "C(GCC)", "time": 834.0, "rank": 5},{"language": "Go", "time": 937.0, "rank": 6},{"language": "Swift", "time": 1066.0, "rank": 7},{"language": "Java(GraalVM)", "time": 1071.0, "rank": 8},{"language": "JavaScript(Bun)", "time": 1344.0, "rank": 9},{"language": "Dart(AOT)", "time": 1451.0, "rank": 10},{"language": "Lua(LuaJIT)", "time": 2122.0, "rank": 11},{"language": "JavaScript(Node.js)", "time": 2591.0, "rank": 12},{"language": "Dart(JIT)", "time": 3500.0, "rank": 13},{"language": "Python(PyPy)", "time": 6489.0, "rank": 14}]
            },
            "mark": {
                "type": "bar",
                "color": "#4c78a8",
                "stroke": "#333",
                "strokeWidth": 1,
                "cornerRadius": 3
            },
            "encoding": {
                "x": {
                    "field": "language",
                    "type": "nominal",
                    "title": "编程语言",
                    "sort": {"field": "time", "order": "ascending"},
                    "axis": {
                        "labelAngle": -45,
                        "labelFontSize": 11
                    }
                },
                "y": {
                    "field": "time",
                    "type": "quantitative", 
                    "title": "执行时间 (毫秒) - 对数坐标",
                    "scale": {"type": "sqrt"},
                    "axis": {"labelFontSize": 11, "format": ".0f"}
                },
                "color": {
                    "field": "rank",
                    "type": "ordinal",
                    "scale": {
                        "range": ["#1f77b4", "#ff7f0e", "#2ca02c", "#d62728", "#9467bd", 
                                 "#8c564b", "#e377c2", "#7f7f7f", "#bcbd22", "#17becf",
                                 "#aec7e8", "#ffbb78", "#98df8a", "#ff9896", "#c5b0d5", "#c49c94"]
                    },
                    "legend": null
                },
                "tooltip": [
                    {"field": "language", "type": "nominal", "title": "语言"},
                    {"field": "time", "type": "quantitative", "title": "时间(ms)"},
                    {"field": "rank", "type": "ordinal", "title": "排名"}
                ]
            },
            "config": {
                "axis": {
                    "titleFontSize": 12,
                    "titleFontWeight": "bold"
                },
                "title": {
                    "anchor": "start",
                    "offset": 20
                }
            }
        };
        
        vegaEmbed('#chart0', spec0, {
            "actions": false,
            "renderer": "svg"
        }).catch(console.error);
    </script>

    <h2>📋 控制台输出</h2>
    <div class="console-output">
        <pre>🚀 编程语言性能测试工具 v2.0 (YAML Config)
============================================================

📊 配置信息:
  - 17 种编程语言
  - 10 个测试用例
  - 14 种语言已启用
  - 1 个测试用例已启用

============================================================
📊 测试结果汇总 (共 14 个结果)
============================================================
📈 fib - Fibonacci(递归算法)
------------------------------------------------------------
🥇 Java(JVM)                    730ms
🥈 C(Clang)                     831ms
🥉 Zig                          831ms
4️⃣ Rust                         832ms
5️⃣ C(GCC)                       834ms
6️⃣ Go                           937ms
7️⃣ Swift                       1066ms
8️⃣ Java(GraalVM)               1071ms
9️⃣ JavaScript(Bun)             1344ms
🔟 Dart(AOT)                   1451ms
📍 Lua(LuaJIT)                 2122ms
📍 JavaScript(Node.js)         2591ms
📍 Dart(JIT)                   3500ms
📍 Python(PyPy)                6489ms

</pre>
    </div>
</body>
</html>
